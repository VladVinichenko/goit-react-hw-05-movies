"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[566,307],{307:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var n="Button_button__qq0+y",a=r(184),l=function(e){var t=e.name,r=e.action,l=e.children;return(0,a.jsx)("button",{className:n,name:t,onClick:r,children:l})}},566:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var n=r(907);var a=r(181);function l(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var s=r(885),c="ImageGallery_gallery__1r3ZD",u="ImageGallery_idle__R6r1k",d="ImageGallery_strong__3pDEk",f="ImageGallery_currentPage__HryxW",m="ImageGallery_navBox__H2u3D",g=r(791),_=r(905),h=r(211),p="ImageGalleryItem_galleryItem__+dl3h",y="ImageGalleryItem_galleryImage__vjicx",j="ImageGalleryItem_title__BGBAC",b="ImageGalleryItem_noImage__xHAvL",v=r(184),x=function(e){var t=e.url,r=e.alt,n=e.title,a=e.id;return(0,v.jsxs)("li",{className:p,id:a,children:[t?(0,v.jsx)("img",{className:y,src:"https://image.tmdb.org/t/p/w500"+t,alt:r,loading:"lazy"}):(0,v.jsx)("div",{className:b,children:"No title"}),(0,v.jsx)("h3",{className:j,children:n})]})},I=r(307),O=r(523),w=r(128);var N=function(e){var t=e.searchName,r=void 0===t?"":t,n=e.options,a=void 0===n?"search":n,p=(0,g.useState)("search"),y=(0,s.Z)(p,2),j=y[0],b=y[1],N=(0,g.useState)(1),P=(0,s.Z)(N,2),E=P[0],G=P[1],S=(0,g.useState)(""),Z=(0,s.Z)(S,2),k=Z[0],D=Z[1],A=(0,g.useState)([]),B=(0,s.Z)(A,2),C=B[0],H=B[1],q=function(){(r.trim().length>0||"trending"===a)&&(H([]),b("pending"),(0,_.Z)(a,r,E).then((function(e){if(0===e.results.length)return H([]),Promise.reject(new Error("No results were found for this: ".concat(r)));e.results[0]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.results[0]),H(l(e.results)),b("resolved")})).catch((function(e){D(e),b("rejected")})))};return(0,g.useEffect)((function(){"trending"===a&&b("pending"),q()}),[]),(0,g.useEffect)((function(){q()}),[r,E]),(0,v.jsxs)(g.Fragment,{children:["search"===j&&(0,v.jsx)("p",{className:u,children:"Input value"}),"rejected"===j&&(0,v.jsx)("strong",{className:d,children:k.message}),C.length>0&&(0,v.jsx)("ul",{className:c,children:C.map((function(e){return(0,v.jsx)(O.rU,{to:w.d.MOVIES+w.d.ONE_MOVIE+"".concat(e.id),children:(0,v.jsx)(x,{id:e.id,url:e.poster_path,alt:e.name,title:e.original_title?e.original_title:e.name})},e.id)}))}),"pending"===j&&(0,v.jsx)(h.Z,{}),(0,v.jsxs)("div",{className:m,children:["resolved"===j&&E>1?(0,v.jsxs)(I.default,{action:function(){G(E-1)},children:["Prev Page (",E-1,")"]}):"","resolved"===j&&(0,v.jsx)("p",{className:f,children:E}),"resolved"===j&&(0,v.jsxs)(I.default,{action:function(){G(E+1)},children:["Next Page (",E+1,")"]})]})]})}}}]);
//# sourceMappingURL=566.e75ac3ee.chunk.js.map