"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[995],{995:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var i=s(473),a="DetailedMovieData_box__djrTy",n="DetailedMovieData_buttonBox__JHkXf",c="DetailedMovieData_link__Ao9JJ",l="DetailedMovieData_selected__kp+ZI",r=s(523),d=s(271),o=s(128),_=s(885),u=s(905),m=s(791),h={list:"Cast_list__GlWio",item:"Cast_item__a0CDL",title:"Cast_title__0cH9s",noImage:"Cast_noImage__2zKj4"},v=s(211),x=s(184);var j=function(e){var t=e.movieId,s=(0,m.useState)("idle"),i=(0,_.Z)(s,2),a=i[0],n=i[1],c=(0,m.useState)(""),l=(0,_.Z)(c,2),r=l[0],d=l[1],o=(0,m.useState)(""),j=(0,_.Z)(o,2),f=j[0],g=j[1];return(0,m.useEffect)((function(){t&&function(){try{if(r.cast)return void d("");d(""),n("pending"),(0,u.Z)("movie",t,"","credits").then((function(e){e&&(d(e),n("resolved"))})).catch((function(e){g(e),n("rejected")}))}catch(f){console.log(f)}}()}),[t]),(0,x.jsxs)(m.Fragment,{children:["pending"===a&&(0,x.jsx)(v.Z,{}),"idle"===a&&(0,x.jsx)("div",{children:"..."}),"rejected"===a&&(0,x.jsx)("strong",{className:h.strong,children:f.message}),"resolved"===a&&(0,x.jsx)("ul",{className:h.list,children:r.cast&&r.cast.map((function(e){return(0,x.jsxs)("li",{className:h.item,children:[e.profile_path?(0,x.jsx)("img",{className:h.portrait,src:"https://image.tmdb.org/t/p/w500"+e.profile_path,alt:e.name,loading:"lazy"}):(0,x.jsx)("div",{className:h.noImage,children:"No photo"}),(0,x.jsx)("h3",{className:h.title,children:e.name})]},e.cast_id)}))})]})},f={list:"Reviews_list__okdpy",item:"Reviews_item__DJKij",title:"Reviews_title__t265C",text:"Reviews_text__EqLvx",date:"Reviews_date__HEDa0"};var g=function(e){var t=e.movieId,s=(0,m.useState)("idle"),i=(0,_.Z)(s,2),a=i[0],n=i[1],c=(0,m.useState)({}),l=(0,_.Z)(c,2),r=l[0],d=l[1],o=(0,m.useState)(""),h=(0,_.Z)(o,2),j=h[0],g=h[1];return(0,m.useEffect)((function(){if(r.results)return d({}),void n("idle");d({}),n("pending"),(0,u.Z)("movie",t,1,"reviews").then((function(e){e&&(d(e),n("resolved"))})).catch((function(e){g(e),n("rejected")}))}),[]),(0,x.jsxs)(m.Fragment,{children:["pending"===a&&(0,x.jsx)(v.Z,{}),"idle"===a&&(0,x.jsx)("div",{children:"..."}),"rejected"===a&&(0,x.jsx)("strong",{className:f.strong,children:j.message}),"resolved"===a&&(0,x.jsxs)("ul",{className:f.list,children:[0===r.results.length&&(0,x.jsx)("li",{children:"No comments"}),r.results.length>0&&r.results.map((function(e){return(0,x.jsxs)("li",{className:f.item,children:[(0,x.jsx)("h3",{className:f.title,children:e.author}),(0,x.jsx)("p",{className:f.text,children:e.content}),(0,x.jsx)("p",{className:f.date,children:e.created_at})]},e.id)}))]})]})};var p=function(){var e=(0,d.useParams)().id;return(0,x.jsx)(i.Z,{children:(0,x.jsxs)("div",{className:a,children:[(0,x.jsxs)("div",{className:n,children:[(0,x.jsx)(r.OL,{to:o.d.MOVIES+"/".concat(e)+o.d.CAST,exact:!0,activeClassName:l,className:c,children:"Cast"}),(0,x.jsx)(r.OL,{to:o.d.MOVIES+"/".concat(e)+o.d.REVIEWS,exact:!0,activeClassName:l,className:c,children:"Reviews"})]}),(0,x.jsx)(d.Route,{path:o.d.MOVIES+"/".concat(e)+o.d.CAST,render:function(t){return(0,x.jsx)(j,{movieId:e.slice(3)})}}),(0,x.jsx)(d.Route,{path:o.d.MOVIES+"/".concat(e)+o.d.REVIEWS,render:function(t){return(0,x.jsx)(g,{movieId:e.slice(3)})}})]})})}}}]);
//# sourceMappingURL=995.1e6d6a0a.chunk.js.map